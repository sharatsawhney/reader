<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Reader Earth is India's largest E-book marketplace with e-books in all categories ;that allows the renting and purchasing of e-books.">
    <meta name="author" content="Reader Earth-Renting E-books">
    <!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-124179480-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-124179480-1');
	</script>

    <title>{% block title %}Home{% endblock %} | Reader Earth:Rent Ebooks at an affordable rate</title>
    <link href="{% static 'cs/bootstrap.min.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'cs/rzslider.css' %}" />
    <link href='http://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="https://kenwheeler.github.io/slick/slick/slick-theme.css"/>
    <link href="{% static 'cs/main.css' %}" rel="stylesheet">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="18205974359-scm2ogghtt91dkgfb9id3lpprfnvd3f4.apps.googleusercontent.com">

    <style type="text/css">
    	.g-signin2{
            margin-left:10%;
            margin-top: -20px;
            position: absolute; 
            opacity: 0; 
      }
      .logingoogle{
        pointer-events: none;
      }
      .fb-login-button{
        position: absolute !important;
        bottom: 95px;
        left: 49%;
        -ms-transform: scale(0.9, 1.8); /* IE 9 */
        -webkit-transform: scale(0.9, 1.8); /* Safari */
        transform: scale(0.9, 1.8);
        opacity: 0.01;
        z-index: 2;  
      }
      .fb-register-button{
        position: absolute !important;
        bottom: 77px;
        left: 49%;
        -ms-transform: scale(0.9, 1.8); /* IE 9 */
        -webkit-transform: scale(0.9, 1.8); /* Safari */
        transform: scale(0.9, 1.8);
        opacity: 0.01;
        z-index: 2;  
      }
      .loginfacebook{
        pointer-events: none;
      }
{% block style %}
{% endblock %}
    </style>
    
</head>

<body>
    <nav class="navbar">
	  <div class="container-fluid">
	    <div class="navbar-header">
	      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>
	      <a href="/"><svg id="navlogo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 235.75 103"><defs><style>.navlogo-1{isolation:isolate;}.navlogo-2{font-size:41.65px;fill:#fcfdff;font-family:Roboto-Light, Roboto;}.navlogo-3{letter-spacing:-0.01em;}.navlogo-4{letter-spacing:0em;}.navlogo-5{letter-spacing:0.02em;}.navlogo-6{fill:#585858;}.navlogo-7{opacity:0.75;mix-blend-mode:multiply;}.navlogo-8{fill:#f7f6f6;}.navlogo-9{fill:#565656;}</style></defs><g class="navlogo-1"><g id="Layer_2" data-name="Layer 2"><g id="top_nav" data-name="top nav"><text class="navlogo-2" transform="translate(38.55 67.56)">eaderearth</text><path class="navlogo-6" d="M19.46,52.08a24.13,24.13,0,0,1,3.28,7.64A22.59,22.59,0,0,1,23,67.89a42.2,42.2,0,0,1-2.16,7.77,21.19,21.19,0,0,0-1.2,7.87v0l0,0a23.87,23.87,0,0,1,1-7.95c.36-1.29.77-2.57,1.1-3.85a23,23,0,0,0,.62-3.91,19.52,19.52,0,0,0-.86-7.74,19.44,19.44,0,0,0-3.79-6.67A1.12,1.12,0,1,1,19.37,52l.09.12Z"/><path class="navlogo-6" d="M19.26,52.56a1.23,1.23,0,0,1,1.27.15c.36.2.71.4,1.06.62a18.18,18.18,0,0,1,2,1.43,12,12,0,0,1,3.12,3.92A15.54,15.54,0,0,1,28,68.22a29.89,29.89,0,0,1-1.33,4.59c-.51,1.49-1.15,2.95-1.73,4.42s-1.24,2.9-1.68,4.41a13,13,0,0,0-.7,4.62.05.05,0,0,1,0,.06.06.06,0,0,1-.06,0c-.33-3.21,1-6.29,2-9.21s2.38-5.88,2.93-8.93a13.23,13.23,0,0,0-1.82-8.8,11.24,11.24,0,0,0-3-3.2,16.41,16.41,0,0,0-1.89-1.21c-.33-.18-.67-.36-1-.53a1.21,1.21,0,0,1-.84-.92v0A.77.77,0,0,1,19.26,52.56Z"/><image class="navlogo-7" width="58" height="103" xlink:href="data:image/png;base64,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"/><path class="navlogo-8" d="M44.46,12.46A9.67,9.67,0,0,0,40,8.63,20.6,20.6,0,0,0,34.47,7.1a39.37,39.37,0,0,0-5.62-.41,62.14,62.14,0,0,0-11.15,1C14,8.37,10.42,9.2,6.78,10a.22.22,0,0,0-.17.26.22.22,0,0,0,.26.17c3.65-.67,7.29-1.42,10.94-2a59,59,0,0,1,11-.74,38.33,38.33,0,0,1,5.46.55,19.43,19.43,0,0,1,5.14,1.58,8.33,8.33,0,0,1,3.78,3.38,8.69,8.69,0,0,1,.82,5,25.08,25.08,0,0,1-3.79,10,58,58,0,0,1-6.59,8.72,63.55,63.55,0,0,1-8,7.54l-4.33,3.39c-.71.57-1.44,1.13-2.14,1.72l-.42.33-.68-35.89a.5.5,0,0,0-1,0L16.48,68s0,0,0,0A1.33,1.33,0,0,0,19.15,68l-.28-14.46a16.67,16.67,0,0,1,9.23,4.68,11.89,11.89,0,0,1,2.65,4.59,15,15,0,0,1,.65,5.43,20.32,20.32,0,0,1-1.5,5.42,23.49,23.49,0,0,1-1.24,2.58c-.45.87-.88,1.75-1.27,2.64C26,82.51,24.3,86.07,23.78,90a.05.05,0,0,0,0,.06.05.05,0,0,0,.06,0,27,27,0,0,1,1.66-5.54c.79-1.77,1.58-3.53,2.42-5.26.44-.86.9-1.7,1.41-2.52a24.36,24.36,0,0,0,1.46-2.57,21.48,21.48,0,0,0,2-5.63,16.63,16.63,0,0,0-.21-6.1A14.65,14.65,0,0,0,30,56.69a17.43,17.43,0,0,0-4.68-4.18A22.69,22.69,0,0,0,22.46,51c.31-.23.61-.47.9-.72,1.47-1.18,2.85-2.47,4.19-3.79,2.66-2.67,5.31-5.33,7.76-8.2a60,60,0,0,0,6.57-9.21,26.7,26.7,0,0,0,3.73-10.8A10.17,10.17,0,0,0,44.46,12.46Z"/><circle class="navlogo-9" cx="18.48" cy="51.57" r="1.42"/></g></g></g></svg></a>
	    </div>

	    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
	      <ul class="nav navbar-nav navbar-right">
	        <li {% block activeh %}{% endblock %}><a href="/">Home</a></li>
	        <li {% block activee %}{% endblock %}><a href="/search/">Shop</a></li>
	        {% if user.is_authenticated %}
	        <li {% block actived %}{% endblock %}><a href="/dashboard/">My Books</a></li>
	        {% endif %}
	        <li class="reader-shop-search-li"><input type="text" name="reader-shop-search-input" placeholder="Search" class="reader-shop-search-input">
	        	<svg class="reader-shop-search-icon" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></li>
	        {% if user.is_authenticated %}
	        <li><a id="navlogoutbtn" href="/logout"><span>Log out</span></a></li>
	        {% else %}
            <li><button id="navloginbtn">Log in</button></li>
			{% endif %}
			<li><a href="/cart/"><i class="fa fa-shopping-cart" aria-hidden="true" style="color:#FFD9CF;font-size:22px;position:relative;bottom: 2px;"></i><div style="background-color: red;width:17px;height:17px;border-radius: 50%;position: absolute;top: 6px;left: 30px;text-align: center;font-size: 12px"><span style="position: relative;bottom: 1px" id="cartvaluespan"></span></div></a></li>
	      </ul>
	    </div><!-- /.navbar-collapse -->
	  </div><!-- /.container-fluid -->
	</nav>
	<div id="bodyopaquer"></div>
	<div id="loginModal" role="dialog">
      <div class="row">          <div class="col-xs-5">
          <div class="heading">Login</div>
          <div class="sub-heading">Get access to thousands<br>of ebooks.</div>
          <img src="{% static 'images/login.png' %}">
        </div>
        <div class="col-xs-7">
          <button type="button" class="close loginclose" style="outline: none;">&times;</button>
          <div class="heading">LOGIN</div>
          <form method="post">
            {% csrf_token %}
            <div class="login-input-wrapper">
              <input type="text" name="login-username" class="login-username" id="login-username" placeholder="Email">
              <div class="login-reply-1"></div>
            </div>
            <div class="login-input-wrapper">
              <input type="password" name="login-password" class="login-password" id="login-password" placeholder="Password">
              <div class="login-reply-2"></div>
            </div>
            <a href="/password_reset/" class="forgot">Forgot Password?</a>
            <button type="submit" class="btn btn-default login-submit submit">SUBMIT</button><br>
            <div style="position: absolute;border-bottom: 2px solid #9F9F9F;top: 354px;width: 32%;left: 14%;"></div>
            <span style="position: absolute;top:345px;color: #9F9F9F;left: 47.5%;">OR</span>
            <div id="loginorline" style="position: absolute;border-bottom: 2px solid #9F9F9F;top: 354px;width: 32%;left: 54%;"></div>
            <i class="fa fa-google logingoogle" aria-hidden="true"></i>
            <i class="fa fa-facebook loginfacebook" aria-hidden="true"></i>
            <br>
            {% csrf_token %}
            <div class="g-signin2" data-onsuccess="onSignIn" data-width="133%"></div>
            <div class="g-signin2 g-signinother" data-onsuccess="onSignIn" data-width="157%" style="display: none"></div>
            {% csrf_token %}
            <div class="fb-login-button" data-width="50px" data-max-rows="1" data-size="small" data-button-type="continue_with" data-show-faces="false" data-auto-logout-link="false" data-use-continue-as="false" onlogin="checkLoginState();"></div>
            <button type="button" class="btn btn-default loginchangebtn other">Create an Account</button><br>
          </form>
        </div>
      </div>
    </div>
    
    <div id="registerModal" role="dialog">
      <div class="row">
        <div class="col-xs-5">
          <div class="heading">Register</div>
          <div class="sub-heading">Get access to thousands<br>of ebooks.</div>
          <img src="{% static 'images/login.png' %}">
        </div>
        <div class="col-xs-7">
          <button type="button" class="close loginclose" style="outline: none;">&times;</button>
          <div class="heading">REGISTER</div>
          <form method="post">
            {% csrf_token %}
              <div class="login-input-wrapper">
                  <input type="email" name="register-email" class="register-email" id="register-email" placeholder="Email">
                  <div class="register-reply-1"></div>
                  <div class="register-reply-4"></div>
              </div>
              <div class="login-input-wrapper">
                <input type="password" name="register-password" class="register-password" id="register-password" placeholder="Password">
                <div class="register-reply-2"></div>
            </div>
            <div class="login-input-wrapper">
                <input type="password" name="register-confirm-password" class="register-confirm-password" id="register-confirm-password" placeholder="Confirm Password">
                <div class="register-reply-3"></div>
            </div>
            <button type="submit" class="btn btn-default register-submit submit">SUBMIT</button><br>
            <div style="position: absolute;border-bottom: 2px solid #9F9F9F;top: 76.3%;width: 32%;left: 14%;"></div>
            <span style="position: absolute;top:74.7%;color: #9F9F9F;left: 47.5%;">OR</span>
            <div style="position: absolute;border-bottom: 2px solid #9F9F9F;top: 76.3%;width: 32%;left: 54%;"></div>
            <i class="fa fa-google logingoogle" aria-hidden="true"></i>
            <i class="fa fa-facebook loginfacebook" aria-hidden="true"></i>
            <br>
            {% csrf_token %}
            <div class="g-signin2" data-onsuccess="onSignIn" data-width="133%"></div>
            <div class="g-signin2 g-signinother" data-onsuccess="onSignIn" data-width="157%" style="display: none"></div>
            {% csrf_token %}
            <div class="fb-login-button fb-register-button" data-width="50px" data-max-rows="1" data-size="small" data-button-type="continue_with" data-show-faces="false" data-auto-logout-link="false" data-use-continue-as="false" onlogin="checkLoginState();"></div>
            <button type="button" class="btn btn-default registerchangebtn other">Already have an Account</button>
          </form>
        </div>
      </div>
      <div class="loader"></div>
    </div>

    <form action="{% url 'fbsignin' %}" method="post" style="display: none;" id="fbform">
      {% csrf_token %}
      <input id="fb-name" type="text" name="fb-name">
      <input id="fb-email" type="text" name="fb-email">
      <input id="fb-origin" type="text" name="fb-origin">
      <input type="submit" value="OK">
    </form>
    {% if user.is_authenticated %}
        <p style="display: none" class="authcheck">True</p>
    {% else %}
        <p style="display: none" class="authcheck">False</p>
    {% endif %}
    {% block content %}
    {% endblock %}
	

    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script src="{% static 'js/main.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/angular.min.js' %}"></script>
    <script src="{% static 'js/rzslider.js' %}"></script>
    <script>
      // This is called with the results from from FB.getLoginStatus().
    function statusChangeCallback(response) {
      {% if user.is_authenticated %}
      {% else %}
      if (response.status === 'connected') {
        testAPI();
      } else {
        testAPI();
      }
      {% endif %}
    }
    function checkLoginState() {
      FB.getLoginStatus(function(response) {
        statusChangeCallback(response);
      });
    }
      window.fbAsyncInit = function() {
        FB.init({
          appId            : '1169374383214448',
          autoLogAppEvents : true,
          xfbml            : true,
          version          : 'v3.2'
        });
      };
      
      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement(s); js.id = id;
         js.src = "https://connect.facebook.net/en_US/sdk.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));

      function testAPI() {
        FB.api("/me?fields=name,email&access_token", function(response) {
            $("#fb-name").val(response.name);
            $("#fb-email").val(response.email);
            $("#fb-origin").val(window.location.href);

            $("#fbform").submit();
        });
      }
    </script>
    <script>
      if(window.innerWidth > 1450){
        $(".g-signinother").show();
        $(".g-signinmain").hide();
      }
      setTimeout(function(){$(".main-pane .mp-1s").css('opacity','1.0');$(".mp-2 .card").css('opacity','1.0')},10);
      if(String(window.location.href).indexOf('?') != -1){
      	$(".filter-pane").show();
      	$(".main-pane").css({'width':'85%','margin-left':'15%'});
      	var searchtitle = '{{ searchtitle|safe }}';
      	if(searchtitle == 'New Releases' || searchtitle == 'Bestsellers'){
      		$(".search-title").html(searchtitle);
      	}else if(searchtitle != ''){
      		var booknumber = $(".search-title").attr('data-number');
      		if(booknumber <= 6){
      			$(".pagination").css({'position':'absolute','bottom':'10px','left':'50px'});
      		}
            $(".search-title").html('Search Results For: <span>' + searchtitle + ' (' + booknumber +')</span>');
      	}
      }
      $(".loginchangebtn").click(function(){
      	$("#loginModal").animate({'opacity':0.0});
	    $("#loginModal").hide();
     	$("#registerModal").show();
       	$("#registerModal").animate({'opacity':1.0});
	  });
     $(".registerchangebtn").click(function(){
        $("#registerModal").animate({'opacity':0.0});
	    $("#registerModal").hide();
     	$("#loginModal").show();
       	$("#loginModal").animate({'opacity':1.0});
       	$("#bodyopaquer").css('z-index','1');
       	$("#loginModal").css('z-index','6');
     });
	 
	/* setInterval(function(){
		$.get("repeat.php", function(data){
			var repeatdata = data.toString();
			
			var wq = repeatdata.slice(0,repeatdata.indexOf(","));
			var cq = repeatdata.slice(repeatdata.indexOf(",")+1);
			
			
			$(".wq").html(wq);
			$(".cq").html(cq);
			
		});
	},100);*/
	
	$('.ssubmit').click(function(e){
		e.preventDefault();
		var subemail = $(".subemail").val();
		if(subemail==""){
			$(".sub-reply").html("Please enter an Email Id!")
		}else{
			$.ajax({
				url: '/subscribe/',
				type:'POST',
				data:
				{
					'subemail': subemail,
                    'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
				},
				success: function(data)
				{
					if(data.indexOf('True') != -1){
                        $(".sub-reply").html("You have been successfully subscribed!")
					}
					else{
						$(".sub-reply").html("You are already subscribed!")
					}
					
				},
				error: function(xhr,status,error){
					alert('There is some issue! Please try again later!');
				}            
			});
		}
    });
    $(".login-submit").click(function(e){
        e.preventDefault();
        var username = $(".login-username").val();
        var password = $(".login-password").val();
        if(username=="" && password==""){
        	$(".login-username").css({'border-bottom':'2px solid red'});
        	$(".login-password").css({'border-bottom':'2px solid red'});
        	$(".login-reply-1").html("Email is required!");
        	$(".login-reply-2").html("Password is required!");
        }else if(username != '' && password == ''){
        	$(".login-password").focus();
        }else if(username == '' && password != ''){
        	$(".login-username").focus();
        }else{
        	$.ajax({
				url: '/check_login/',
				type:'POST',
				data:
				{
					'username': username,
					'password': password,
                    'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
				},
				success: function(data)
				{
					if(data == 'Login Successful'){
                        $("#loginModal").animate({'opacity':0.0});
					   	$("#bodyopaquer").hide();
					   	$("#loginModal").hide();
					   	location.reload();
					}else if(data=='Email Entered is Incorrect!'){
                        $(".login-username").css({'border-bottom':'2px solid red'});
			        	$(".login-reply-1").html(data);
                $(".login-reply-2").html('');
					}else if(data=='Password Entered is Incorrect!'){
                        $(".login-password").css({'border-bottom':'2px solid red'});
			        	$(".login-reply-2").html(data);
                $(".login-reply-1").html('');
					}
				}          
			});
        }
    });
    $(".loader").hide();
    $(".register-submit").click(function(e){
        e.preventDefault();
        var email = $(".register-email").val();
        var password = $(".register-password").val();
        var cpassword = $(".register-confirm-password").val();
        if(email=="" && password=="" && cpassword==""){
        	$(".register-email").css({'border-bottom':'2px solid red'});
        	$(".register-reply-1").html('Email is required!');
        	$(".register-password").css({'border-bottom':'2px solid red'});
        	$(".register-reply-2").html('Password is required!');
        	$(".register-confirm-password").css({'border-bottom':'2px solid red'});
        	$(".register-reply-3").html('Password is required!');
          $(".register-reply-4").html('');
        }else if(email != '' && password =='' && cpassword==''){
        	$(".register-password").focus();
        }else if(email != '' && password !='' && cpassword==''){
        	$(".register-confirm-password").focus();
        }else if(email == '' && password !='' && cpassword==''){
        	$(".register-email").focus();
        }else if(email == '' && password =='' && cpassword!=''){
        	$(".register-email").focus();
        }else if(email == '' && password !='' && cpassword!=''){
        	$(".register-email").focus();
        }else if(email != '' && password =='' && cpassword!=''){
        	$(".register-password").focus();
        }else{
          if(password==cpassword){
          	$(".loader").show();
          	$.ajax({
      				url: '/register/',
      				type:'POST',
      				data:
      				{
      					'email': email,
      					'cpassword': cpassword,
      					'password': password,
                          'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
      				},
      				success: function(data)
      				{         
      					$(".loader").hide();
      					if(data=='This Email id has already been taken!'){
      						$(".register-email").css({'border-bottom':'2px solid red'});
      	        	        $(".register-reply-1").html(data);
                          $(".register-reply-2").html('');
                          $(".register-reply-3").html('');
                          $(".register-reply-4").html('');
      	        	    }else if(data=='Please confirm your email address to complete the registration'){
                              $(".register-email").css({'border-bottom':'2px solid #7F70C9'});
                              $(".register-reply-1").html('');
                              $(".register-reply-4").html(data);
                              $(".register-reply-2").html('');
                              $(".register-reply-3").html('');
      	        	    }
      				}          
      			});
          }else{
            $(".register-reply-1").html('');
            $(".register-reply-4").html('');
            $(".register-password").css({'border-bottom':'2px solid red'});
            $(".register-confirm-password").css({'border-bottom':'2px solid red'});
            $(".register-reply-2").html('Passwords do not match!');
            $(".register-reply-3").html('Passwords do not match!');
          }
        }
    });

    $(".cart-btn").click(function(){
        if($(".logout-btn").html() == "Logout"){
        	if($(".durationselect").val() != null){
	            var pathname = window.location.pathname;
	            var number1 = pathname.substr(pathname.indexOf("/detail/") + 8);
	            var ebooknumber = number1.substr(0,number1.indexOf("/"));
	            var duration = $(".durationselect").val();
	            $.ajax({
					url: '/add_cart/',
					type:'POST',
					data:
					{
						'ebooknumber': ebooknumber,
						'duration': duration,
						'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
					},
					success: function(data)
					{
	                    $(".cart-reply").html(data);
						
					},
					error: function(xhr,status,error){
					alert(xhr.responseText);
				    }             
				});
            }else{
            	$(".cart-reply").html("Please select a duration!");
            }
        }else{
        	$(".cart-reply").html("You must login to continue!");
        }
    });

    $(".durationcartselect").on('change',function(){
        var duration = this.value;
        var productid = $(this).attr('data-id');
        var ebookid = $(".hiddenid[data-id=" + productid + "]").html();
        $.ajax({
					url: '/change_duration/',
					type:'POST',
					data:
					{
						'ebookid': ebookid,
						'duration': duration,
						'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
					},
					success: function(data)
					{
	                    $(".price-span[data-id=" + productid + "]").html(data['nprice']);
	                    $(".totalprice").html("Rs. " + data['tprice']);
	                    $(".ordertotal").html("Rs. " + data['tprice']);
						
					},
					error: function(xhr,status,error){
					alert(xhr.responseText);
				    }             
				});
    });

    $(".deletecart").click(function(){
        var productid = $(this).attr('data-id');
        var ebookid = $(".hiddenid[data-id=" + productid + "]").html();
        $.ajax({
					url: '/delete_cart/',
					type:'POST',
					data:
					{
						'ebookid': ebookid,
						'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
					},
					success: function(data)
					{
	                    if(data == 'Success'){
	                    	location.reload();
	                    }
						
					},
					error: function(xhr,status,error){
					alert(xhr.responseText);
				    }             
				});
    });

    $(".wremove").click(function(){
        var productid = $(this).attr('data-id');
        var ebookid = $(".hiddenidw[data-id=" + productid + "]").html();
        $.ajax({
					url: '/delete_wishlist/',
					type:'POST',
					data:
					{
						'ebookid': ebookid,
						'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
					},
					success: function(data)
					{
	                    if(data == 'Success'){
	                    	location.reload();
	                    }
						
					},
					error: function(xhr,status,error){
					alert(xhr.responseText);
				    }             
				});
    });

    $(".mtc").click(function(){
        var productid = $(this).attr('data-id');
        var ebookid = $(".hiddenidw[data-id=" + productid + "]").html();
        $.ajax({
					url: '/mtc/',
					type:'POST',
					data:
					{
						'ebookid': ebookid,
						'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
					},
					success: function(data)
					{
	                    if(data == 'Success'){
	                    	location.reload();
	                    }
						
					},
					error: function(xhr,status,error){
					alert(xhr.responseText);
				    }             
				});
    });

    $(".towishlist").click(function(){
        var productid = $(this).attr('data-id');
        var ebookid = $(".hiddenid[data-id=" + productid + "]").html();
        $.ajax({
					url: '/mtw/',
					type:'POST',
					data:
					{
						'ebookid': ebookid,
						'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
					},
					success: function(data)
					{
	                    if(data == 'Success'){
	                    	location.reload();
	                    }
						
					},
					error: function(xhr,status,error){
					alert(xhr.responseText);
				    }             
				});
    });
    $(".loader2").hide();
    $(".bookrequestsubmit").click(function(){
        var bookname = $(".bookrequest").val();
        var email = $(".bookrequestemail").val();
        if(bookname!= '' && email != ''){
        	$(".loader2").show();
	        $.ajax({
						url: '/bookrequest/',
						type:'POST',
						data:
						{
							'email': email,
							'bookname':bookname,
							'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
						},
						success: function(data)
						{
		                    $(".loader2").hide();
		                    $(".bookrequestreply").html(data);
							
						},
						error: function(xhr,status,error){
						alert(xhr.responseText);
					    }             
					});
        }
        else{
        	$(".bookrequestreply").html('Please Fill Both the Details!');
        }
    });

    if($(document.body)[0].scrollHeight < $(window).height()){
    	$(".footer").css('position','absolute');
    	$(".footer").css('bottom','0px');
    }
    $(".wl-cards .card .container").css('height','120px');
    $(".wl-cards .card").mouseover(function(){
        $(this).find('.container').css('height','auto');
    })
    $(".wl-cards .card").mouseleave(function(){
        $(this).find('.container').css('height','120px');
    })

    var dataId = 1;
    var dataArray = [];
    while($(".dash-right .card .container .title[data-id=" + dataId + "]").length > 0){
        var lineHeight = $(".dash-right .card .container .title[data-id=" + dataId + "]").css('line-height');
        var height = $(".dash-right .card .container .title[data-id=" + dataId + "]").css('height');
        var lines = parseFloat(height)/parseFloat(lineHeight);
        dataArray.push(lines);
        dataId = dataId + 1;
    }
    var maxArray = Math.max.apply(Math,dataArray);
    $(".dash-right .card .container .title").css('height',maxArray + 'em');


    var dataId = 1;
    var dataArray = [];
    while($(".dash-right .card .container .author[data-id=" + dataId + "]").length > 0){
        var lineHeight = $(".dash-right .card .container .author[data-id=" + dataId + "]").css('line-height');
        var height = $(".dash-right .card .container .author[data-id=" + dataId + "]").css('height');
        var lines = parseFloat(height)/parseFloat(lineHeight);
        dataArray.push(lines);
        dataId = dataId + 1;
    }
    var maxArray = Math.max.apply(Math,dataArray);
    $(".dash-right .card .container .author").css('height',maxArray + 'em');


    var dataId = 1;
    var dataArray = [];
    while($(".dash-right .card .container .publisher[data-id=" + dataId + "]").length > 0){
        var lineHeight = $(".dash-right .card .container .publisher[data-id=" + dataId + "]").css('line-height');
        var height = $(".dash-right .card .container .publisher[data-id=" + dataId + "]").css('height');
        var lines = parseFloat(height)/parseFloat(lineHeight);
        dataArray.push(lines);
        dataId = dataId + 1;
    }
    var maxArray = Math.max.apply(Math,dataArray);
    $(".dash-right .card .container .publisher").css('height',maxArray + 'em');





    $(".mp-2 .card .container .title").each(function(){
        var text  = $(this).html();
        if(text.length > 32){
        	text = text.substring(0,32) + '...';
        	$(this).html(text);
        }
    });
    $(".mp-2 .card .container .author").each(function(){
        var text  = $(this).html();
        if(text.length > 22){
        	text = text.substring(0,22) + '...';
        	$(this).html(text);
        }
    });

    $(".mp-3 .card .container .title").each(function(){
        var text  = $(this).html();
        if(text.length > 28){
        	text = text.substring(0,28) + '...';
        	$(this).html(text);
        }
    });
    $(".mp-3 .card .container .author").each(function(){
        var text  = $(this).html();
        if(text.length > 22){
        	text = text.substring(0,22) + '...';
        	$(this).html(text);
        }
    });

    $(".mp-4 .card .container .title").each(function(){
        var text  = $(this).html();
        if(text.length > 28){
        	text = text.substring(0,28) + '...';
        	$(this).html(text);
        }
    });
    $(".mp-4 .card .container .author").each(function(){
        var text  = $(this).html();
        if(text.length > 22){
        	text = text.substring(0,22) + '...';
        	$(this).html(text);
        }
    });

    $(".mp-5 .card .container .title").each(function(){
        var text  = $(this).html();
        if(text.length > 28){
        	text = text.substring(0,28) + '...';
        	$(this).html(text);
        }
    });
    $(".mp-5 .card .container .author").each(function(){
        var text  = $(this).html();
        if(text.length > 22){
        	text = text.substring(0,22) + '...';
        	$(this).html(text);
        }
    });

    $(".mp-6 .card .container .title").each(function(){
        var text  = $(this).html();
        if(text.length > 28){
        	text = text.substring(0,28) + '...';
        	$(this).html(text);
        }
    });
    $(".mp-6 .card .container .author").each(function(){
        var text  = $(this).html();
        if(text.length > 22){
        	text = text.substring(0,22) + '...';
        	$(this).html(text);
        }
    });
    $(".mp-search .card .container .title").each(function(){
        var text  = $(this).html();
        if(text.length > 28){
        	text = text.substring(0,28) + '...';
        	$(this).html(text);
        }
    });
    $(".mp-search .card .container .author").each(function(){
        var text  = $(this).html();
        if(text.length > 22){
        	text = text.substring(0,22) + '...';
        	$(this).html(text);
        }
    });


    var app = angular.module('rzSlider', ['rzModule']);

    	app.controller('MainCtrl', function ($scope, $timeout) {

    		$scope.minRangeSlider1 = {
        minValue: parseFloat($(".lprice").html()),
        maxValue: parseFloat($(".hprice").html()),
        options: {
            floor: parseFloat($(".lprice").html()),
            ceil: parseFloat($(".hprice").html()),
            step: 1,
            onChange: function(){
            	$(".formlprice input").val($(".lpriceinput").val());
            	$(".formhprice input").val($(".hpriceinput").val());
            }
        }

    };


    		$scope.minRangeSlider2 = {
        minValue: parseInt($(".lpages").html()),
        maxValue: parseInt($(".hpages").html()),
        options: {
            floor: parseInt($(".lpages").html()),
            ceil: parseInt($(".hpages").html()),
            step: 1,
             onChange: function(){
            	$(".formlpages input").val($(".lpagesinput").val());
            	$(".formhpages input").val($(".hpagesinput").val());
            }
        }
    };
    	});



    $(".formlprice input").val(parseFloat($(".lprice").html()));
    $(".formhprice input").val(parseFloat($(".hprice").html()));
    $(".formlpages input").val(parseInt($(".lpages").html()));
    $(".formhpages input").val(parseInt($(".hpages").html()));

    
    $(".lpriceinput").on("change paste keyup", function() {
	    $(".formlprice input").val($(this).val());
	});
	$(".hpriceinput").on("change paste keyup", function() {
	    $(".formhprice input").val($(this).val());
	});
	$(".lpagesinput").on("change paste keyup", function() {
	    $(".formlpages input").val($(this).val());
	});
	$(".hpagesinput").on("change paste keyup", function() {
	    $(".formhpages input").val($(this).val());
	});
    $(".rzslider1 input").change(function(){
        alert('hi');
    	$(".formlprice input").val($(".lpriceinput").val());
    	$(".formhprice input").val($(".hpriceinput").val());
    })
    $(".rzslider2").change(function(){
    	$(".formlpages input").val($(".lpagesinput").val());
    	$(".formhpages input").val($(".hpagesinput").val());
    })


    	
    function publisherSearch() {
	    var input, filter, ul, li, a, i;
	    input = document.getElementById("publisherSearch");
	    filter = input.value.toUpperCase();
	    ul = document.getElementById("publisherList");
	    li = ul.getElementsByClassName("shop-publisher-checkbox-container");
	    for (i = 0; i < li.length; i++) {
	        a = li[i].getElementsByClassName("shop-publisher-input")[0];
	        if (a.value.toUpperCase().indexOf(filter) > -1) {
	            li[i].style.display = "";
	        } else {
	            li[i].style.display = "none";

	        }
	    }
	}
    

    var shopUrl = window.location.href;
    if(shopUrl.indexOf("&pag") != -1){
		var url1 = shopUrl.substr(0,shopUrl.indexOf("&pag"));
		var prevPage = parseInt($('.currentPageNumber').html()) -1;
		var nextPage = parseInt($('.currentPageNumber').html()) +1;
		var url2 = url1 + '&pag=' + prevPage;
		var url3 = url1 + '&pag=' + nextPage;

	    $(".prevLink").attr('href',url2);
	    $(".nextLink").attr('href',url3);
    }else{
    	var prevPage = parseInt($('.currentPageNumber').html()) -1;
		var nextPage = parseInt($('.currentPageNumber').html()) +1;
		var url2 = shopUrl + '&pag=' + prevPage;
		var url3 = shopUrl + '&pag=' + nextPage;

	    $(".prevLink").attr('href',url2);
	    $(".nextLink").attr('href',url3);
    }

    $(".lowerLimitPages").html(parseInt($('.currentPageNumber').html())*40-39);
    if(parseInt($(".totalBooks").html()) > parseInt($('.currentPageNumber').html())*40){
        $(".upperLimitPages").html(parseInt($('.currentPageNumber').html())*40);
    }else{
    	$(".upperLimitPages").html(parseInt($(".totalBooks").html()));
    }

    if($(".searchInput input").val() == 'bookActive'){
    	$(".searchInput input").val("");
    }

    var googleUser = {};
	  var startApp = function() {
	    gapi.load('auth2', function(){
	      // Retrieve the singleton for the GoogleAuth library and set up the client.
	      auth2 = gapi.auth2.init({
	        client_id: '18205974359-scm2ogghtt91dkgfb9id3lpprfnvd3f4.apps.googleusercontent.com',
	        cookiepolicy: 'single_host_origin',
	        // Request scopes in addition to 'profile' and 'email'
	        //scope: 'additional_scope'
	      });
	      attachSignin($(".g-signin2"));
	    });
	  };
	  //startApp();

	  function attachSignin(element) {
	    console.log(element.id);
	    auth2.attachClickHandler(element, {},
	        function(googleUser) {
	          document.getElementById('name').innerText = "Signed in: " +
	              googleUser.getBasicProfile().getName();
	        }, function(error) {
	          alert(JSON.stringify(error, undefined, 2));
	        });
	  }

    function onSignIn(googleUser) {
	    var id_token = googleUser.getAuthResponse().id_token;
	    if($(".authcheck").html() == 'False'){
		    $.ajax({
							url: '/googlesignin/',
							type:'POST',
							data:
							{
								'id_token': id_token,
								'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
							},
							success: function(data)
							{
			                    if(data=='Success'){
			                    	location.reload();
			                    }
								
							},
							error: function(xhr,status,error){
							alert(xhr.responseText);
						    }             
						});
		}
	}

	function signOut() {
	    var auth2 = gapi.auth2.getAuthInstance();
	    auth2.signOut().then(function () {
	      console.log('User signed out.');
	    });
	  }

	$('.main-pane .mp-2-wrapper').slick({
          infinite: false,
          slidesToShow: 5,
          slidesToScroll: 5,
          variableWidth: true,
        });
    $(".main-pane .mp-2-wrapper .slick-prev").hide();
    $('.main-pane .mp-2-wrapper').on('beforeChange', function(event, slick, currentSlide,nextSlide){
        if(window.innerWidth > 786){
    	  $(".mp-2-wrapper .card").css({'margin-top':'46px','height':'265px','width':'204px','margin-left':'0.0%','margin-right':'0.0%','z-index':'0','box-shadow':'none'});
        $(".mp-2-wrapper .card").find('.fa-heart').css({'font-size':'16px','top':'10px','margin-left':'158px'});
        }else{
           $(".mp-2-wrapper .card").css({'margin-top':'46px','height':'405px','width':'204px','margin-left':'0.0%','margin-right':'0.0%','z-index':'0','box-shadow':'none'});
           $(".mp-2-wrapper .card").find('.fa-heart').css({'font-size':'16px','top':'10px','margin-left':'170px'});
        }
    	  $(".mp-2-wrapper .card").find('img').css('height','150px');
    	  $(".mp-2-wrapper").css('width','88%');
    	  $(".mp-2-wrapper .slick-list").css('padding-left','0.0%');
    	  var numbooks = {{ offermp2.ebooks.all|length|safe }} + 1;
          var slidemodulo = numbooks%5;
          if(slidemodulo == 0){
            slidemodulo = 5;
          }
          if(nextSlide ==numbooks -slidemodulo){
              $(".main-pane .mp-2-wrapper .slick-next").hide();
              $(".main-pane .mp-2-wrapper .slick-prev").show();
          }else if(nextSlide == 0){
              $(".main-pane .mp-2-wrapper .slick-next").show();
              $(".main-pane .mp-2-wrapper .slick-prev").hide();
          }else{
          	$(".main-pane .mp-2-wrapper .slick-next").show();
          	$(".main-pane .mp-2-wrapper .slick-prev").show();
          }
        });
    $('.main-pane .mp-2-wrapper').on('afterChange', function(event,slick,currentSlide){
      if(window.innerWidth > 786){
        $(".mp-2-wrapper .card").css({'margin-top':'46px','height':'265px','width':'204px','margin-left':'0.0%','margin-right':'0.0%','z-index':'0','box-shadow':'none'});
        $(".mp-2-wrapper .card").find('.fa-heart').css({'font-size':'16px','top':'10px','margin-left':'158px'});
      }else{
        $(".mp-2-wrapper .card").css({'margin-top':'46px','height':'405px','width':'204px','margin-left':'0.0%','margin-right':'0.0%','z-index':'0','box-shadow':'none'});
        $(".mp-2-wrapper .card").find('.fa-heart').css({'font-size':'16px','top':'10px','margin-left':'170px'});
      }
        
    	$(".mp-2-wrapper .card").find('img').css('height','150px');
    	$(".mp-2-wrapper").css('width','88%');
    	$(".mp-2-wrapper .slick-list").css('padding-left','0.0%');
    });

    $(".mp-2 .card .oprice").each(function(){
    	var nprice = parseFloat($(this).parent().find('.nprice').html().substring(5,$(this).parent().find('.nprice').html().indexOf('</b>')));
    	var x = parseInt($(this).parent().parent().parent().attr('data-eid'))%80;
    	if(x == 0){
    		x = 80;
    	}
    	var percent = $(".mp-2").attr('data-percent');
        var toffer = $(".mp-2").attr('data-offer');
        var offerl = parseInt($(".mp-2").attr('data-offerl'));
        var offerh = parseInt($(".mp-2").attr('data-offerh'));
        if(percent == 'True'){
            if(x<=40){
                var y = ((offerl+offerh)/2) - Math.sqrt((25/(Math.log(1/80)))*Math.log(x/80));
        	}else{
        		var y = ((offerl+offerh)/2) - Math.sqrt((25/(Math.log(1/80)))*Math.log(x/80));
        	}
        }else{
        	if(x<=40){
                var y = 30 - Math.sqrt((225/(Math.log(1/80)))*Math.log(x/80));
        	}else{
        		var y = 30 + Math.sqrt((225/(Math.log(1/80)))*Math.log(x/80));
        	}
        }
        if(toffer == 'True'){
            var fnprice = (nprice - nprice*(y/100)).toFiced(1);
            var foprice = nprice.toFixed(1);
            $(this).parent().find('.nprice').html('<b>&#x20b9; ' + fnprice+ '</b>')
            $(this).html('&#x20b9; ' + foprice);
        }else{
            var fnprice = (nprice + nprice*(y/100)).toFixed(1);
            var foprice = nprice.toFixed(1);
            $(this).parent().find('.nprice').html('<b>&#x20b9; ' + foprice+'</b>')
            $(this).html('&#x20b9; ' + fnprice);
        }
    });
    if(window.innerWidth > 786){
      $(".mp-2 .card").first().css({'margin-top':'4px','height':'315px','width':'240px','margin-left':'-18px','margin-right':'-18px','z-index':'3','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)'});
    }else{
      $(".mp-2 .card").first().css({'margin-top':'4px','height':'455px','width':'240px','margin-left':'-18px','margin-right':'-18px','z-index':'3','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)'});
    }
    $(".mp-2 .card").first().find('img').css('height','190px');
    $(".mp-2 .card").first().find('.fa-heart').css({'font-size':'18px','top':'15px','margin-left':'198px'});
    $(".mp-2 .card").mouseover(function(){
      if(window.innerWidth > 786){
    	$(this).css({'margin-top':'4px','height':'315px','width':'240px','margin-left':'-18px','margin-right':'-18px','z-index':'3','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)'});
    	}else{
        $(this).css({'margin-top':'4px','height':'455px','width':'240px','margin-left':'-18px','margin-right':'-18px','z-index':'3','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)'});
      }
    	$(this).find('img').css('height','190px');
    	$(this).find('.fa-heart').css({'font-size':'18px','top':'15px','margin-left':'198px'});
      $(".mp-2-wrapper .slick-list").css('padding-left','0px');
      if(window.innerWidth < 1450){
        if($(this).attr('data-slick-index') != '1'){
          if(window.innerWidth > 786){
            $(".mp-2 .card").first().css({'margin-top':'46px','height':'265px','width':'204','margin-left':'0%','margin-right':'0%','z-index':'0','box-shadow':'none'});
          }else{
            $(".mp-2 .card").first().css({'margin-top':'46px','height':'405px','width':'204','margin-left':'0%','margin-right':'0%','z-index':'0','box-shadow':'none'});
          }
        $(".mp-2 .card").first().find('img').css('height','150px');
        $(".mp-2 .card").first().find('.fa-heart').css({'font-size':'16px','top':'10px','margin-left':'170px'});
      }
      if(parseInt($(this).attr('data-slick-index'))%5 == 4){
        $(this).parent().parent().parent().css('width','90.5%');
        $(this).css('margin-right','18px');
      }else if(parseInt($(this).attr('data-slick-index'))%5 == 0 && parseInt($(this).attr('data-slick-index'))!= 0){
        $(".mp-2-wrapper .slick-list").css('padding-left','18px');
        $(this).css('margin-right','-36px');
      } 
      }else{

      }
    });
    $(".mp-2 .card").mouseleave(function(){
      if(window.innerWidth > 786){
    	$(this).css({'margin-top':'46px','height':'265px','width':'204','margin-left':'0.0%','margin-right':'0.0%','z-index':'0','box-shadow':'none'});
      }else{
        $(this).css({'margin-top':'46px','height':'405px','width':'204','margin-left':'0.0%','margin-right':'0.0%','z-index':'0','box-shadow':'none'});
      }
    	$(this).find('img').css('height','150px');
      $(this).find('.fa-heart').css({'font-size':'16px','top':'10px','margin-left':'170px'});
    	if(parseInt($(this).attr('data-slick-index'))%5 == 4){
	    	$(this).parent().parent().parent().css('width','88%');
	    	$(this).css('margin-right','0.0%');
	    }else if(parseInt($(this).attr('data-slick-index'))%4 == 1 && parseInt($(this).attr('data-slick-index'))!= 1){
	    	$(".mp-2-wrapper .slick-list").css('padding-left','0.0%');
	    }
    });

    $('.main-pane .mp-3-wrapper').slick({
          infinite: true,
          slidesToShow: 6,
          slidesToScroll: 6,
          variableWidth: true,
        });

    $(".main-pane .mp-3-wrapper .slick-prev").hide();

    $('.main-pane .mp-3-wrapper').on('beforeChange', function(event, slick, currentSlide,nextSlide){
          var slidemodulo = {{ ebooks|length|safe }}%6;
          if(slidemodulo == 0){
            slidemodulo = 6;
          }
          if(nextSlide =={{ ebooks|length|safe }} -slidemodulo){
              $(".main-pane .mp-3-wrapper .slick-next").hide();
              $(".main-pane .mp-3-wrapper .slick-prev").show();
          }else if(nextSlide == 0){
              $(".main-pane .mp-3-wrapper .slick-next").show();
              $(".main-pane .mp-3-wrapper .slick-prev").hide();
          }else{
          	$(".main-pane .mp-3-wrapper .slick-next").show();
          	$(".main-pane .mp-3-wrapper .slick-prev").show();
          }
        });

    $(".mp-3 .card .oprice").each(function(){
    	var nprice = parseFloat($(this).parent().find('.nprice').html().substring(5,$(this).parent().find('.nprice').html().indexOf('</b>')));
    	var x = parseInt($(this).parent().parent().parent().attr('data-eid'))%80;
    	if(x == 0){
    		x = 80;
    	}
    	if(x<=40){
            var y = 30 - Math.sqrt((225/(Math.log(1/80)))*Math.log(x/80));
    	}else{
    		var y = 30 + Math.sqrt((225/(Math.log(1/80)))*Math.log(x/80));
    	}
        var fnprice = (nprice + nprice*(y/100)).toFixed(1);
        $(this).html('&#x20b9; ' + fnprice);
    });
    $(".mp-3 .card").mouseover(function(){
    	$(".mp-4").css('margin-top','-10px');
      if(window.innerWidth > 786){
    	$(this).css({'height':'285px','width':'195px','z-index':'3','margin-top':'-10px','border-radius':'5px','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)','margin-left':'-7px','margin-right':'-7px'});
      }else{
        $(this).css({'height':'425px','width':'195px','z-index':'3','margin-top':'-10px','border-radius':'5px','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)','margin-left':'-7px','margin-right':'-7px'});
      }
    	if(parseInt($(this).attr('data-slick-index'))%6 == 0){
    		$(this).css({'margin-left':'8px','margin-right':'-22px'});
    	}else if(parseInt($(this).attr('data-slick-index'))%6 == 5){
    		$(this).css({'margin-left':'-22px','margin-right':'8px'});
    	}
    	$(this).find('img').css('height','170px');
    	$(this).find('.fa-heart').css({'font-size':'17px','top':'11px','margin-left':'165px'});
    });
    $(".mp-3 .card").mouseleave(function(){
    	$(".mp-4").css('margin-top','20px');
      if(window.innerWidth > 786){
    	$(this).css({'height':'265px','width':'181px','z-index':'0','margin-top':'0px','border-radius':'0px','box-shadow':'none','margin-left':'0%','margin-right':'0%'});
      }else{
        $(this).css({'height':'405px','width':'181px','z-index':'0','margin-top':'0px','border-radius':'0px','box-shadow':'none','margin-left':'0%','margin-right':'0%'});
      }
    	$(this).find('img').css('height','150px');
    	$(this).find('.fa-heart').css({'font-size':'16px','top':'10px','margin-left':'155px'});
    });

    $('.main-pane .mp-4-wrapper').slick({
          infinite: true,
          slidesToShow: 6,
          slidesToScroll: 6,
          variableWidth: true,
        });

    $(".main-pane .mp-4-wrapper .slick-prev").hide();

    $('.main-pane .mp-4-wrapper').on('beforeChange', function(event, slick, currentSlide,nextSlide){
          var slidemodulo = {{ ebooks|length|safe }}%6;
          if(slidemodulo == 0){
            slidemodulo = 6;
          }
          if(nextSlide =={{ ebooks|length|safe }} -slidemodulo){
              $(".main-pane .mp-4-wrapper .slick-next").hide();
              $(".main-pane .mp-4-wrapper .slick-prev").show();
          }else if(nextSlide == 0){
              $(".main-pane .mp-4-wrapper .slick-next").show();
              $(".main-pane .mp-4-wrapper .slick-prev").hide();
          }else{
          	$(".main-pane .mp-4-wrapper .slick-next").show();
          	$(".main-pane .mp-4-wrapper .slick-prev").show();
          }
        });

    $(".mp-4 .card .oprice").each(function(){
    	var nprice = parseFloat($(this).parent().find('.nprice').html().substring(5,$(this).parent().find('.nprice').html().indexOf('</b>')));
    	var x = parseInt($(this).parent().parent().parent().attr('data-eid'))%80;
    	if(x == 0){
    		x = 80;
    	}
    	if(x<=40){
            var y = 30 - Math.sqrt((225/(Math.log(1/80)))*Math.log(x/80));
    	}else{
    		var y = 30 + Math.sqrt((225/(Math.log(1/80)))*Math.log(x/80));
    	}
        var fnprice = (nprice + nprice*(y/100)).toFixed(1);
        $(this).html('&#x20b9; ' + fnprice);
    });
    $(".mp-4 .card").mouseover(function(){
    	$(".mp-5").css('margin-top','-10px');
      if(window.innerWidth > 786){
    	$(this).css({'height':'285px','width':'195px','z-index':'3','margin-top':'-10px','border-radius':'5px','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)','margin-left':'-7px','margin-right':'-7px'});
      }else{
        $(this).css({'height':'425px','width':'195px','z-index':'3','margin-top':'-10px','border-radius':'5px','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)','margin-left':'-7px','margin-right':'-7px'});
      }
    	if(parseInt($(this).attr('data-slick-index'))%6 == 0){
    		$(this).css({'margin-left':'8px','margin-right':'-22px'});
    	}else if(parseInt($(this).attr('data-slick-index'))%6 == 5){
    		$(this).css({'margin-left':'-22px','margin-right':'8px'});
    	}
    	$(this).find('img').css('height','170px');
    	$(this).find('.fa-heart').css({'font-size':'17px','top':'11px','margin-left':'165px'});
    });
    $(".mp-4 .card").mouseleave(function(){
    	$(".mp-5").css('margin-top','20px');
      if(window.innerWidth > 786){
    	$(this).css({'height':'265px','width':'181px','z-index':'0','margin-top':'0px','border-radius':'0px','box-shadow':'none','margin-left':'0%','margin-right':'0%'});
      }else{
        $(this).css({'height':'405px','width':'181px','z-index':'0','margin-top':'0px','border-radius':'0px','box-shadow':'none','margin-left':'0%','margin-right':'0%'});
      }

    	$(this).find('img').css('height','150px');
    	$(this).find('.fa-heart').css({'font-size':'16px','top':'10px','margin-left':'155px'});
    });

    $('.main-pane .mp-5-wrapper').slick({
          infinite: true,
          slidesToShow: 6,
          slidesToScroll: 6,
          variableWidth: true,
        });

    $(".main-pane .mp-5-wrapper .slick-prev").hide();

    $('.main-pane .mp-5-wrapper').on('beforeChange', function(event, slick, currentSlide,nextSlide){
          var slidemodulo = {{ ebooks|length|safe }}%6;
          if(slidemodulo == 0){
            slidemodulo = 6;
          }
          if(nextSlide =={{ ebooks|length|safe }} -slidemodulo){
              $(".main-pane .mp-5-wrapper .slick-next").hide();
              $(".main-pane .mp-5-wrapper .slick-prev").show();
          }else if(nextSlide == 0){
              $(".main-pane .mp-5-wrapper .slick-next").show();
              $(".main-pane .mp-5-wrapper .slick-prev").hide();
          }else{
          	$(".main-pane .mp-5-wrapper .slick-next").show();
          	$(".main-pane .mp-5-wrapper .slick-prev").show();
          }
        });

    $(".mp-5 .card .oprice").each(function(){
    	var nprice = parseFloat($(this).parent().find('.nprice').html().substring(5,$(this).parent().find('.nprice').html().indexOf('</b>')));
    	var x = parseInt($(this).parent().parent().parent().attr('data-eid'))%80;
    	if(x == 0){
    		x = 80;
    	}
    	if(x<=40){
            var y = 30 - Math.sqrt((225/(Math.log(1/80)))*Math.log(x/80));
    	}else{
    		var y = 30 + Math.sqrt((225/(Math.log(1/80)))*Math.log(x/80));
    	}
        var fnprice = (nprice + nprice*(y/100)).toFixed(1);
        $(this).html('&#x20b9; ' + fnprice);
    });
    $(".mp-5 .card").mouseover(function(){
    	$(".mp-6").css('margin-top','-10px');
      if(window.innerWidth > 786){
    	$(this).css({'height':'285px','width':'195px','z-index':'3','margin-top':'-10px','border-radius':'5px','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)','margin-left':'-7px','margin-right':'-7px'});
      }else{
        $(this).css({'height':'425px','width':'195px','z-index':'3','margin-top':'-10px','border-radius':'5px','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)','margin-left':'-7px','margin-right':'-7px'});
      }
    	if(parseInt($(this).attr('data-slick-index'))%6 == 0){
    		$(this).css({'margin-left':'8px','margin-right':'-22px'});
    	}else if(parseInt($(this).attr('data-slick-index'))%6 == 5){
    		$(this).css({'margin-left':'-22px','margin-right':'8px'});
    	}
    	$(this).find('img').css('height','170px');
    	$(this).find('.fa-heart').css({'font-size':'17px','top':'11px','margin-left':'165px'});
    });
    $(".mp-5 .card").mouseleave(function(){
    	$(".mp-6").css('margin-top','20px');
      if(window.innerWidth > 786){
    	$(this).css({'height':'265px','width':'181px','z-index':'0','margin-top':'0px','border-radius':'0px','box-shadow':'none','margin-left':'0%','margin-right':'0%'});
      }else{
        $(this).css({'height':'405px','width':'181px','z-index':'0','margin-top':'0px','border-radius':'0px','box-shadow':'none','margin-left':'0%','margin-right':'0%'});
      }

    	$(this).find('img').css('height','150px');
    	$(this).find('.fa-heart').css({'font-size':'16px','top':'10px','margin-left':'155px'});
    });

    $('.main-pane .mp-6-wrapper').slick({
          infinite: true,
          slidesToShow: 6,
          slidesToScroll: 6,
          variableWidth: true,
        });

    $(".main-pane .mp-6-wrapper .slick-prev").hide();

    $('.main-pane .mp-6-wrapper').on('beforeChange', function(event, slick, currentSlide,nextSlide){
          var slidemodulo = {{ ebooks|length|safe }}%6;
          if(slidemodulo == 0){
            slidemodulo = 6;
          }
          if(nextSlide =={{ ebooks|length|safe }} -slidemodulo){
              $(".main-pane .mp-6-wrapper .slick-next").hide();
              $(".main-pane .mp-6-wrapper .slick-prev").show();
          }else if(nextSlide == 0){
              $(".main-pane .mp-6-wrapper .slick-next").show();
              $(".main-pane .mp-6-wrapper .slick-prev").hide();
          }else{
          	$(".main-pane .mp-6-wrapper .slick-next").show();
          	$(".main-pane .mp-6-wrapper .slick-prev").show();
          }
        });

    $(".mp-6 .card .oprice").each(function(){
    	var nprice = parseFloat($(this).parent().find('.nprice').html().substring(5,$(this).parent().find('.nprice').html().indexOf('</b>')));
    	var x = parseInt($(this).parent().parent().parent().attr('data-eid'))%80;
    	if(x == 0){
    		x = 80;
    	}
    	if(x<=40){
            var y = 30 - Math.sqrt((225/(Math.log(1/80)))*Math.log(x/80));
    	}else{
    		var y = 30 + Math.sqrt((225/(Math.log(1/80)))*Math.log(x/80));
    	}
        var fnprice = (nprice + nprice*(y/100)).toFixed(1);
        $(this).html('&#x20b9; ' + fnprice);
    });
    $(".mp-6 .card").mouseover(function(){
      if(window.innerWidth > 786){
    	$(this).css({'height':'285px','width':'195px','z-index':'3','margin-top':'-10px','border-radius':'5px','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)','margin-left':'-7px','margin-right':'-7px'});
      }else{
        $(this).css({'height':'425px','width':'195px','z-index':'3','margin-top':'-10px','border-radius':'5px','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)','margin-left':'-7px','margin-right':'-7px'});
      }
    	if(parseInt($(this).attr('data-slick-index'))%6 == 0){
    		$(this).css({'margin-left':'8px','margin-right':'-22px'});
    	}else if(parseInt($(this).attr('data-slick-index'))%6 == 5){
    		$(this).css({'margin-left':'-22px','margin-right':'8px'});
    	}
    	$(this).find('img').css('height','170px');
    	$(this).find('.fa-heart').css({'font-size':'17px','top':'11px','margin-left':'165px'});
    });
    $(".mp-6 .card").mouseleave(function(){
      if(window.innerWidth > 786){
    	$(this).css({'height':'265px','width':'181px','z-index':'0','margin-top':'0px','border-radius':'0px','box-shadow':'none','margin-left':'0%','margin-right':'0%'});
      }else{
        $(this).css({'height':'405px','width':'181px','z-index':'0','margin-top':'0px','border-radius':'0px','box-shadow':'none','margin-left':'0%','margin-right':'0%'});
      }
    	$(this).find('img').css('height','150px');
    	$(this).find('.fa-heart').css({'font-size':'16px','top':'10px','margin-left':'155px'});
    });

    $(".mp-search .card .oprice").each(function(){
    	var nprice = parseFloat($(this).parent().find('.nprice').html().substring(5,$(this).parent().find('.nprice').html().indexOf('</b>')));
    	var x = parseInt($(this).parent().parent().parent().attr('data-eid'))%80;
    	if(x == 0){
    		x = 80;
    	}
    	if(x<=40){
            var y = 30 - Math.sqrt((225/(Math.log(1/80)))*Math.log(x/80));
    	}else{
    		var y = 30 + Math.sqrt((225/(Math.log(1/80)))*Math.log(x/80));
    	}
        var fnprice = (nprice + nprice*(y/100)).toFixed(1);
        $(this).html('&#x20b9; ' + fnprice);
    });
    if(window.innerWidth > 786){
    $(".mp-search .card").mouseover(function(){
    	$(this).css({'height':'285px','width':'16.5%','z-index':'3','margin-top':'-10px','border-radius':'5px','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)','margin-left':'-0.05%','margin-right':'-0.05%','margin-bottom':'-10px'});
    	$(this).find('img').css('height','170px');
    	$(this).find('.fa-heart').css({'font-size':'17px','top':'11px','margin-left':'85%'});
    });
    $(".mp-search .card").mouseleave(function(){
    	$(this).css({'height':'265px','width':'16.4%','z-index':'0','margin-top':'0px','border-radius':'0px','box-shadow':'none','margin-left':'0%','margin-right':'0%','margin-bottom':'0px'});

    	$(this).find('img').css('height','150px');
    	$(this).find('.fa-heart').css({'font-size':'16px','top':'10px','margin-left':'85%'});
    });
    }else{
    $(".mp-search .card").mouseover(function(){
      $(this).css({'height':'420px','width':'26%','z-index':'3','margin-top':'-10px','border-radius':'5px','box-shadow':'10px 0 15px -4px rgba(160, 100, 245, 0.4),-10px 0 15px -4px rgba(160, 100, 245, 0.4),0px 6px 15px -4px rgba(160, 100, 245, 0.4),0px -6px 15px -4px rgba(160, 100, 245, 0.4)','margin-left':'-0.5%','margin-right':'-0.5%','margin-bottom':'-10px'});
      $(this).find('img').css('height','220px');
      $(this).find('.fa-heart').css({'font-size':'17px','top':'11px','margin-left':'85%'});
    });
    $(".mp-search .card").mouseleave(function(){
      $(this).css({'height':'400px','width':'25%','z-index':'0','margin-top':'0px','border-radius':'0px','box-shadow':'none','margin-left':'0%','margin-right':'0%','margin-bottom':'0px'});

      $(this).find('img').css('height','200px');
      $(this).find('.fa-heart').css({'font-size':'16px','top':'10px','margin-left':'85%'});
    });
    }

    $(".reader-shop-search-input").keypress(function(e){
    	if(e.keyCode== '13'){
    		var text = $(this).val();
    		if(text!=''){
    			window.location.href = '/search/?q=' + text;
    		}
    	}
    });
    function lisearchfunc(query){
    	window.location.href= '/search/?q=' + query;
    }
    $(".reader-shop-search-input").keyup(function(e){
        if(e.keyCode != '13'){
        	q = $(this).val();
        	if(q!= ''){
                $.ajax({
					url: '/autocomplete/?q=' + q,
					type:'GET',
					success: function(data)
					{   
						$(".ul-autocomplete").remove();
						appender = ``;
	                    for(var i in data['results1']){
                            var obj = `<li onClick="lisearchfunc('` + data['results1'][i] +`')">` + data['results1'][i] + `</li>`;
                            appender = appender + obj;
	                    }
	                    for(var i in data['results2']){
                            var obj = `<li onClick="lisearchfunc('` + data['results2'][i] +`')">` + data['results2'][i] + `</li>`;
                            appender = appender + obj;
	                    }
	                    for(var i in data['results3']){
                            var obj = `<li onClick="lisearchfunc('` + data['results3'][i] +`')">` + data['results3'][i] + `</li>`;
                            appender = appender + obj;
	                    }
	                    for(var i in data['results4']){
                            var obj = `<li onClick="lisearchfunc('` + data['results4'][i] +`')">` + data['results4'][i] + `</li>`;
                            appender = appender + obj;
	                    }
	                    for(var i in data['results5']){
                            var obj = `<li onClick="lisearchfunc('` + data['results5'][i] +`')">` + data['results5'][i] + `</li>`;
                            appender = appender + obj;
	                    }
	                    for(var i in data['results6']){
                            var obj = `<li onClick="lisearchfunc('` + data['results6'][i] +`')">` + data['results6'][i] + `</li>`;
                            appender = appender + obj;
	                    }
	                    appender = `<ul class="ul-autocomplete">` + appender + `</ul>`;
	                    $(".reader-shop-search-li").append(appender);
	                    $(".ul-autocomplete").css({'position':'absolute','top':'40px','left':'0px','background-color':'white','list-style-type':'none','width':'300px','border':'none','border-radius':'0px 0px 20px 20px','z-index':'2'});
	                    $(".ul-autocomplete li").css({'cursor':'pointer','width':'100%','padding-left':'20px'});
	                    if($(".ul-autocomplete li").length > 0){
                            $(".mp-1 span:nth-child(5)").css('z-index','0');
                            $(".reader-shop-search-input").css('border-radius','20px 20px 0px 0px');
                            $(".ul-autocomplete").css({'box-shadow':'1px 1px 4px rgb(128,128,128)','border-top':'1px solid rgb(204,204,204)','padding':'0px 0px 20px 0px'});
	                    }else{
	                    	$(".reader-shop-search-input").css('border-radius','20px 20px 20px 20px');
	                    }
					},
					error: function(xhr,status,error){
					alert(xhr.responseText);
				    }             
				});
        	}else{
        		$(".reader-shop-search-input").css('border-radius','20px 20px 20px 20px');
        	}
        }
    });
    $('body').click(function(e){
	      if ( !$(e.target).is('.reader-shop-search-input') ) {
	            $(".ul-autocomplete").hide();
	            $(".mp-1 span:nth-child(5)").css('z-index','1');
	            $(".reader-shop-search-input").css('border-radius','20px 20px 20px 20px');
	      }else{
	      	    $(".ul-autocomplete").show();
	      	    if($(".ul-autocomplete li").length > 0){
                    $(".mp-1 span:nth-child(5)").css('z-index','0');
	      	    }else{
	      	    	$(".reader-shop-search-input").css('border-radius','20px 20px 20px 20px');
	      	    }
	      }
	      if ( !$(e.target).is('.mp-1 span') && !$(e.target).is('.mp-1 span i')){
              $(".shop-genre-list").hide();
              $(".mp-1 .fa-angle-up").hide();
              $(".mp-1 .fa-angle-down").show();
	      }
	});

    $(".fp-2 .high2lowsort").click(function(){
    	var href= window.location.href;
    	if(href.indexOf('&hl=true') == -1){
            if(href.indexOf('&hl=false') != -1){
	    		newhref = href.substring(0,href.indexOf('&hl=false')+4) + 'true' + href.substring(href.indexOf('&hl=false')+9,) ;
	            window.location.href = newhref;
	    	}else{
	    		newhref = href + '&hl=true';
	    		window.location.href = newhref;
	    	}
    	}else{
        	newhref = href.substring(0,href.indexOf('&hl=true')) + href.substring(href.indexOf('&hl=true')+8,) ;
            window.location.href = newhref;
    	}
    });

    $(".fp-2 .low2highsort").click(function(){
    	var href= window.location.href;
    	if(href.indexOf('&hl=false') == -1){
            if(href.indexOf('&hl=true') != -1){
	    		newhref = href.substring(0,href.indexOf('&hl=true')+4) + 'false' + href.substring(href.indexOf('&hl=true')+8,) ;
	            window.location.href = newhref;
	    	}else{
	    		newhref = href + '&hl=false';
	    		window.location.href = newhref;
	    	}
    	}else{
        	newhref = href.substring(0,href.indexOf('&hl=false')) + href.substring(href.indexOf('&hl=false')+9,) ;
            window.location.href = newhref;
    	}
    });

    var href = window.location.href;
    if(href.indexOf('&hl=true') == -1){
    	$(".fp-2 .high2lowsort").css('color','#838383');
    }else{
        $(".fp-2 .high2lowsort").css('color','rgb(0,0,0)');
    }
    if(href.indexOf('&hl=false') == -1){
    	$(".fp-2 .low2highsort").css('color','#838383');
    }else{
        $(".fp-2 .low2highsort").css('color','rgb(0,0,0)');
    }
    $(".fp-2 .high2lowsort").mouseover(function(){
    	$(this).css('color','rgb(50,50,50)');
    });
    $(".fp-2 .high2lowsort").mouseleave(function(){
    	if(href.indexOf('&hl=true') == -1){
	    	$(".fp-2 .high2lowsort").css('color','#838383');
	    }else{
	        $(".fp-2 .high2lowsort").css('color','rgb(0,0,0)');
	    }
    });
    $(".fp-2 .low2highsort").mouseover(function(){
    	$(this).css('color','rgb(50,50,50)');
    });
    $(".fp-2 .low2highsort").mouseleave(function(){
    	if(href.indexOf('&hl=false') == -1){
	    	$(".fp-2 .low2highsort").css('color','#838383');
	    }else{
	        $(".fp-2 .low2highsort").css('color','rgb(0,0,0)');
	    }
    });

    $(".fp-4 .l1pagesort").click(function(){
    	var href= window.location.href;
    	if(href.indexOf('&page=l1') == -1){
            if(href.indexOf('&page=12') != -1 || href.indexOf('&page=23') != -1 || href.indexOf('&page=m3') != -1 ){
	    		newhref = href.substring(0,href.indexOf('&page=')+6) + 'l1' + href.substring(href.indexOf('&page=')+8,) ;
	            window.location.href = newhref;
	    	}else{
	    		newhref = href + '&page=l1';
	    		window.location.href = newhref;
	    	}
    	}else{
        	newhref = href.substring(0,href.indexOf('&page=l1')) + href.substring(href.indexOf('&page=l1')+8,) ;
            window.location.href = newhref;
    	}
    });

    $(".fp-4 .12pagesort").click(function(){
    	var href= window.location.href;
    	if(href.indexOf('&page=12') == -1){
            if(href.indexOf('&page=l1') != -1 || href.indexOf('&page=23') != -1 || href.indexOf('&page=m3') != -1 ){
	    		newhref = href.substring(0,href.indexOf('&page=')+6) + '12' + href.substring(href.indexOf('&page=')+8,) ;
	            window.location.href = newhref;
	    	}else{
	    		newhref = href + '&page=12';
	    		window.location.href = newhref;
	    	}
    	}else{
        	newhref = href.substring(0,href.indexOf('&page=12')) + href.substring(href.indexOf('&page=12')+8,) ;
            window.location.href = newhref;
    	}
    });

    $(".fp-4 .23pagesort").click(function(){
    	var href= window.location.href;
    	if(href.indexOf('&page=23') == -1){
            if(href.indexOf('&page=12') != -1 || href.indexOf('&page=l1') != -1 || href.indexOf('&page=m3') != -1 ){
	    		newhref = href.substring(0,href.indexOf('&page=')+6) + '23' + href.substring(href.indexOf('&page=')+8,) ;
	            window.location.href = newhref;
	    	}else{
	    		newhref = href + '&page=23';
	    		window.location.href = newhref;
	    	}
    	}else{
        	newhref = href.substring(0,href.indexOf('&page=23')) + href.substring(href.indexOf('&page=23')+8,) ;
            window.location.href = newhref;
    	}
    });

    $(".fp-4 .m3pagesort").click(function(){
    	var href= window.location.href;
    	if(href.indexOf('&page=m3') == -1){
            if(href.indexOf('&page=12') != -1 || href.indexOf('&page=23') != -1 || href.indexOf('&page=l1') != -1 ){
	    		newhref = href.substring(0,href.indexOf('&page=')+6) + 'm3' + href.substring(href.indexOf('&page=')+8,) ;
	            window.location.href = newhref;
	    	}else{
	    		newhref = href + '&page=m3';
	    		window.location.href = newhref;
	    	}
    	}else{
        	newhref = href.substring(0,href.indexOf('&page=m3')) + href.substring(href.indexOf('&page=m3')+8,) ;
            window.location.href = newhref;
    	}
    });

    var href = window.location.href;
    if(href.indexOf('&page=l1') == -1){
    	$(".fp-4 .l1pagesort").css('color','#838383');
    }else{
        $(".fp-4 .l1pagesort").css('color','rgb(0,0,0)');
    }
    if(href.indexOf('&page=12') == -1){
    	$(".fp-4 .12pagesort").css('color','#838383');
    }else{
        $(".fp-4 .12pagesort").css('color','rgb(0,0,0)');
    }
    if(href.indexOf('&page=23') == -1){
    	$(".fp-4 .23pagesort").css('color','#838383');
    }else{
        $(".fp-4 .23pagesort").css('color','rgb(0,0,0)');
    }
    if(href.indexOf('&page=m3') == -1){
    	$(".fp-4 .m3pagesort").css('color','#838383');
    }else{
        $(".fp-4 .m3pagesort").css('color','rgb(0,0,0)');
    }
    $(".fp-4 .l1pagesort").mouseover(function(){
    	$(this).css('color','rgb(50,50,50)');
    });
    $(".fp-4 .l1pagesort").mouseleave(function(){
    	if(href.indexOf('&page=l1') == -1){
	    	$(".fp-4 .l1pagesort").css('color','#838383');
	    }else{
	        $(".fp-4 .l1pagesort").css('color','rgb(0,0,0)');
	    }
    });
    $(".fp-4 .12pagesort").mouseover(function(){
    	$(this).css('color','rgb(50,50,50)');
    });
    $(".fp-4 .12pagesort").mouseleave(function(){
    	if(href.indexOf('&page=12') == -1){
	    	$(".fp-4 .12pagesort").css('color','#838383');
	    }else{
	        $(".fp-4 .12pagesort").css('color','rgb(0,0,0)');
	    }
    });
    $(".fp-4 .23pagesort").mouseover(function(){
    	$(this).css('color','rgb(50,50,50)');
    });
    $(".fp-4 .23pagesort").mouseleave(function(){
    	if(href.indexOf('&page=23') == -1){
	    	$(".fp-4 .23pagesort").css('color','#838383');
	    }else{
	        $(".fp-4 .23pagesort").css('color','rgb(0,0,0)');
	    }
    });
    $(".fp-4 .m3pagesort").mouseover(function(){
    	$(this).css('color','rgb(50,50,50)');
    });
    $(".fp-4 .m3pagesort").mouseleave(function(){
    	if(href.indexOf('&page=m3') == -1){
	    	$(".fp-4 .m3pagesort").css('color','#838383');
	    }else{
	        $(".fp-4 .m3pagesort").css('color','rgb(0,0,0)');
	    }
    });

    $('.shop-publisher-input[type="checkbox"]').click(function(){
        if($(this).is(":checked")){
            var id = $(this).attr('data-id');
        	var href= window.location.href;
            if(href.indexOf('&pub=') != -1){
	    		newhref = href.substring(0,href.indexOf(']')) + ',' + id  + href.substring(href.indexOf(']'),) ;
	            window.location.href = newhref;
	    	}else{
	    		newhref = href + '&pub=[' + id + ']';
	    		window.location.href = newhref;
	    	}
        }
        else if($(this).is(":not(:checked)")){
        	var id = $(this).attr('data-id');
        	var href= window.location.href;
        	var listid = href.substring(href.indexOf('&pub=')+6,href.indexOf(']'));
            var listarr = listid.split(',');
            if(listarr.length == 1){
            	newhref = href.substring(0,href.indexOf('&pub=')) + href.substring(href.indexOf(']')+1,) ;
                window.location.href = newhref;
            }else{
            	listarr.splice(listarr.indexOf(id),1);
            	console.log(listarr);
                newhref = href.substring(0,href.indexOf('&pub=')+6) + listarr  + href.substring(href.indexOf(']'),) ;
                window.location.href = newhref;
            }
        }
    });
    var href = window.location.href;
    if(href.indexOf('&pub=') != -1){
        var listid = href.substring(href.indexOf('&pub=')+6,href.indexOf(']'));
        var listarr = listid.split(',');
        for(var i in listarr){
        	var pubid = listarr[i];
        	$(".shop-publisher-input[data-id="+ pubid + "]").attr('checked',true);
        }
    }

    var pagetimer = 0;
    var pageinterval = setInterval(timer,1000);
    function timer(){
    	pagetimer = pagetimer + 1;
    }

    $(window).on("beforeunload", function() { 
    	var pathname = String(window.location.pathname);
    	var href = String(window.location.href);
    	if(pathname.indexOf('search') != -1){
    		if(href.indexOf('?cat=') != -1){
    			if(href.indexOf('&') != -1){
                    var genre = href.substring(href.indexOf('?cat=')+5,href.indexOf('&'));
    			}else{
    				var genre = href.substring(href.indexOf('?cat=')+5,);
    			}
    			genre = decodeURIComponent((genre).replace(/\+/g, '%20'));
                $.ajax({
					url: '/adddurationview/',
					type:'POST',
					async: false,
					data:
					{
						'view': 'cat',
						'duration': pagetimer,
						'genre': genre,
						'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
					},
					success: function(data)
					{
					},
					error: function(xhr,status,error){
					alert(xhr.responseText);
				    }             
				});
    		}else if(href.indexOf('?nr=true') != -1){
                $.ajax({
					url: '/adddurationview/',
					type:'POST',
					async: false,
					data:
					{
						'view': 'nr',
						'duration': pagetimer,
						'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
					},
					success: function(data)
					{
					},
					error: function(xhr,status,error){
					alert(xhr.responseText);
				    }             
				});
    		}else if(href.indexOf('?bs=true') != -1){
                $.ajax({
					url: '/adddurationview/',
					type:'POST',
					async: false,
					data:
					{
						'view': 'bs',
						'duration': pagetimer,
						'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
					},
					success: function(data)
					{
					},
					error: function(xhr,status,error){
					alert(xhr.responseText);
				    }             
				});
    		}
    	}
	})

	$('.main-pane .mp-1s .shop-searchby-wrapper').slick({
          infinite: true,
          slidesToShow: 8,
          slidesToScroll: 8,
        });
	$(".main-pane .mp-1s .shop-searchby-wrapper .slick-prev").hide();
    
    $('.main-pane .mp-1s .shop-searchby-wrapper').on('beforeChange', function(event, slick, currentSlide,nextSlide){
          var slidemodulo = 12%8;
          if(nextSlide ==12 -slidemodulo){
              $(".main-pane .mp-1s .shop-searchby-wrapper .slick-next").hide();
              $(".main-pane .mp-1s .shop-searchby-wrapper .slick-prev").show();
          }else if(nextSlide == 0){
              $(".main-pane .mp-1s .shop-searchby-wrapper .slick-next").show();
              $(".main-pane .mp-1s .shop-searchby-wrapper .slick-prev").hide();
          }else{
          	$(".main-pane .mp-1s .shop-searchby-wrapper .slick-next").show();
          	$(".main-pane .mp-1s .shop-searchby-wrapper .slick-prev").show();
          }
        });
        
        $(".mp-1 span:first-child").click(function(){
        	if($(".mp-1 .shop-genre-list").css('display') == 'none'){
                $(".mp-1 .fa-angle-up").show();
        	    $(".mp-1 .fa-angle-down").hide();
        	    $(".mp-1 .shop-genre-list").show();
        	}else{
        		$(".mp-1 .fa-angle-up").hide();
        	    $(".mp-1 .fa-angle-down").show();
        	    $(".mp-1 .shop-genre-list").hide();
        	}
        })

        $(".card .container .stars").each(function(){
        	var rating = parseFloat($(this).attr('data-rating'));
        	var frac = parseFloat(rating%1);
        	var int = rating - frac;
        	var appender= ``;
        	if(frac < 0.25){
        		int = int;
        		for(var i=1;i<=int;i++){
        			var obj = `<i class="fa fa-star" aria-hidden="true"></i>`;
        			appender = appender + obj;
        		}
        		for(var i=1;i<=5-int;i++){
        			var obj = `<i class="fa fa-star-o" aria-hidden="true"></i>`;
        			appender = appender + obj;
        		}
        	}else if(frac < 0.75 && frac >= 0.25){
        		int  = int;
        		for(var i=1;i<=int;i++){
        			var obj = `<i class="fa fa-star" aria-hidden="true"></i>`;
        			appender = appender + obj;
        		}
        		appender = appender + `<i class="fa fa-star-half-o" aria-hidden="true"></i>`;
        		for(var i=1;i<=4-int;i++){
        			var obj = `<i class="fa fa-star-o" aria-hidden="true"></i>`;
        			appender = appender + obj;
        		}
        	}else if(frac < 1.0 && frac >= 0.75){
        		int  = int + 1;
        		for(var i=1;i<=int;i++){
        			var obj = `<i class="fa fa-star" aria-hidden="true"></i>`;
        			appender = appender + obj;
        		}
        		for(var i=1;i<=5-int;i++){
        			var obj = `<i class="fa fa-star-o" aria-hidden="true"></i>`;
        			appender = appender + obj;
        		}
        	}
        	$(this).append(appender);

        });
        var spellres = $(".search-suggestion span a").html();
        if(spellres != undefined){
            $(".search-suggestion span a").attr('href','/search/?q=' + spellres.substring(1,spellres.length-1));
        }
        $(".card").css('outline','none');
        var wisharray = {{ wisharray|safe }};
        $(".card").each(function(){
        	if(wisharray.indexOf(parseInt($(this).attr('data-eid'))) != -1){
        		$(this).find('.fa-heart').css('color','red');
        	}
        })
        $(".fa-heart").click(function(){
        	{% if user.is_authenticated %}
        		var ebooknumber = parseInt($(this).parent().attr('data-eid'));
	            var curelem = $(this);
        		if($(this).css('color') != 'rgb(255, 0, 0)'){
                    $.ajax({
						url: '/atw/',
						type:'POST',
						data:
						{
							'ebooknumber': ebooknumber,
							'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
						},
						success: function(data)
						{
		                    curelem.css('color','red')
							
						},
						error: function(xhr,status,error){
						alert(xhr.responseText);
					    }             
					});
        		}else{
        			$.ajax({
						url: '/delete_wishlist/',
						type:'POST',
						data:
						{
							'ebookid': ebooknumber,
							'csrfmiddlewaretoken':$('input[name=csrfmiddlewaretoken]').val()
						},
						success: function(data)
						{
		                    
		                    curelem.css('color','rgb(228, 228, 228)')
							
						},
						error: function(xhr,status,error){
						alert(xhr.responseText);
					    }             
					});
        		}
	        {% else %}
          $("#loginModal").show();
          $("#bodyopaquer").show();
          $("#loginModal").animate({'opacity':1.0});
	        {% endif %}     
        });

        $("#navloginbtn").click(function(){
		   	$("#loginModal").show();
		   	$("#bodyopaquer").show();
		   	$("#loginModal").animate({'opacity':1.0});
		   })
		$(".loginclose").click(function(){
		   	$("#loginModal").animate({'opacity':0.0});
		   	$("#registerModal").animate({'opacity':0.0});
		   	$("#bodyopaquer").hide();
		   	$("#loginModal").hide();
		   	$("#registerModal").hide();
		   })
    $("#navlogoutbtn").attr('href','/logout?page=' + location.pathname.substring(1,));

    $.ajax({
        url: '/getcartvalue/',
        type:'GET',
        success: function(data)
        {
          $('#cartvaluespan').html(data);
        },
        error: function(xhr,status,error){
        alert(xhr.responseText);
          }             
      });
    </script>
    
</body>
</html>




   